define(["../38567eb382135a6352676a9c9986bf43"],function(e){e.factory("UserLogin",["$q","$state","$http","$rootScope",function(e,n,o,t){var r,i=!1,u=function(){r.resolve()};return{get logged(){return i},handleLogin:function(){return r=e.defer(),n.go("login",{},{location:!1}),r.promise},needCheck:function(e){return e.name.indexOf("logged.")>=0},login:function(n){var o=e.defer();return i=!0,t.username=n.username,o.resolve(),u(),o.promise}}}]).run(["$rootScope","$urlRouter","UserLogin",function(e,n,o){e.$on("$stateChangeStart",function(e,t){o.needCheck(t)&&!o.logged&&(e.preventDefault(),o.handleLogin().then(function(){n.sync()}))})}])});